---
import BaseLayout from "../layouts/BaseLayout.astro";
import AboutMe from "@components/AboutMe.astro";
import Intro from "@components/Intro.astro";
import WorkExperience from "@components/WorkExperience.astro";
import FeaturedProjects from "@components/FeaturedProjects.astro";
---

<BaseLayout sideBarActiveItemID="home">
  <Intro />
  <WorkExperience />
  <FeaturedProjects />
  <AboutMe />
</BaseLayout>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const copyButton = document.getElementById("copyButton");
    const emailTextElement = document.getElementById("emailText");
    const buttonText = document.getElementById("buttonText");

    if (copyButton && emailTextElement && buttonText) {
      copyButton.addEventListener("click", function () {
        const emailText = emailTextElement.innerText;

        navigator.clipboard
          .writeText(emailText)
          .then(() => {
            // Cambiar el texto del botón a "Copied!"
            buttonText.innerText = "Copied!";

            // Volver a "Copy" después de 2 segundos
            setTimeout(() => {
              buttonText.innerText = "Copy";
            }, 2000);
          })
          .catch((err) => {
            console.error("Error al copiar:", err);
          });
      });
    }
  });
</script>
